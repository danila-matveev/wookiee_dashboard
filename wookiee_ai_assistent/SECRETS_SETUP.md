# Настройка секретов для бота-помощника Bitrix24

## Безопасность ⚠️
- **НИКОГДА НЕ ОТПРАВЛЯЙТЕ СЕКРЕТЫ В ЧАТ** — они могут остаться в истории или попасть в репозиторий
- **НИКОГДА НЕ КОММИТЬТЕ ФАЙЛЫ С СЕКРЕТАМИ** — они должны быть в .gitignore
- Используйте **только локальные файлы** для работы

## Шаг 1: Подготовка файла секретов

1. **Скопируйте шаблон:**
   ```bash
   cp env-template.txt .env.local
   ```

2. **Заполните своими данными:**
   Откройте `.env.local` и вставьте реальные значения вместо пустых строк.

## Шаг 2: Получение токенов и ключей

### Telegram Bot Token
1. Напишите в Telegram боту `@BotFather`
2. Команда `/newbot`
3. Введите имя и username бота
4. Сохраните полученный **Bot Token** в `TELEGRAM_BOT_TOKEN=`

### Bitrix24 Webhook
1. В Bitrix24: **Приложения → Разработчикам → Другие → Incoming Webhook**
2. Выберите права: `user`, `task`, `calendar`, `im`
3. Скопируйте **полный URL** webhook'а в `BITRIX24_WEBHOOK=`

### Supabase Keys
1. Создайте проект в [supabase.com](https://supabase.com)
2. Перейдите в **Settings → API**
3. Скопируйте:
   - **Project URL** → `SUPABASE_URL=`
   - **service_role key** → `SUPABASE_SERVICE_ROLE_KEY=` (НЕ anon key!)

## Шаг 3: Проверка
После заполнения файла:
```bash
# Убедитесь, что файл не коммитится
git status
# .env.local должен быть в списке "Untracked files" или не показываться вообще
```

## Шаг 4: Подтверждение
После выполнения чек-листа и заполнения секретов:
- Напишите в чат: **"Секреты готовы"**
- Укажите, какие пункты чек-листа выполнили (например: "Telegram бот создан, webhook настроен, Supabase проект готов")

## Важно: резервные копии
- Сохраните `.env.local` в безопасном месте (не в облаке)
- При переустановке ОС/компьютера сможете быстро восстановить

## Следующий шаг
После вашего подтверждения "секреты готовы" начнём создавать Supabase таблицы и Edge Functions.